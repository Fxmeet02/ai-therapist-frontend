html
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AI Therapist Companion</title>
<style>
  body { margin: 0; font-family: 'Segoe UI', sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; transition: background 0.5s ease; }
  .container { background: rgba(255,255,255,0.9); backdrop-filter: blur(6px); padding: 20px; border-radius: 16px; box-shadow: 0 8px 20px rgba(0,0,0,0.1); max-width: 420px; width: 90%; display: flex; flex-direction: column; }
  .messages { flex: 1; max-height: 300px; overflow-y: auto; margin-bottom: 10px; display: flex; flex-direction: column; gap: 6px; }
  .message { padding: 10px 14px; border-radius: 12px; max-width: 80%; word-wrap: break-word; animation: fadeIn 0.3s ease; }
  .user { align-self: flex-end; background: #c5e1a5; }
  .bot { align-self: flex-start; background: #b3e5fc; }
  input { padding: 10px; border-radius: 8px; border: 1px solid #ccc; width: calc(100% - 22px); margin-bottom: 8px; }
  button { padding: 10px; background: #42a5f5; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: background 0.3s; }
  button:hover { background: #1e88e5; }
  @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
</style>
</head>
<body>
<div class="container">
  <h2>AI Therapist Companion ü§ù</h2>
  <div id="messages" class="messages"></div>
  <input type="text" id="userInput" placeholder="How are you feeling today?" />
  <button onclick="sendMessage()">Send</button>
</div>

<script>
const backendURL = "https://ai-therapist-backendfinal.onrender.com/analyze_emotion";

function changeBackground(emotion) {
  const body = document.body;
  if (emotion.includes('happy') || emotion.includes('joy')) body.style.background = '#fff9c4';
  else if (emotion.includes('sad')) body.style.background = '#e1f5fe';
  else if (emotion.includes('angry')) body.style.background = '#ffccbc';
  else body.style.background = '#f3e5f5';
}

function addMessage(content, role) {
  const messages = document.getElementById("messages");
  const div = document.createElement("div");
  div.className = `message ${role}`;
  div.textContent = content;
  messages.appendChild(div);
  messages.scrollTop = messages.scrollHeight;
}

async function sendMessage() {
  const input = document.getElementById("userInput");
  const text = input.value.trim();
  if (!text) return;
  addMessage(text, "user");
  input.value = "";

  try {
    const response = await fetch(backendURL, {
      method: "POST",
      headers: { "Content-Type": "application/x-www-form-urlencoded" },
      body: new URLSearchParams({ text }),
    });
    const data = await response.json();
    addMessage(data.emotion || "I am here to listen to you.", "bot");
    changeBackground(data.emotion || "");
  } catch (error) {
    addMessage("I'm sorry, I could not reach the server. Please try again.", "bot");
  }
}
</script>
</body>
</html>
