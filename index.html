```html
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AI Therapist Companion</title>
<style>
  body { margin: 0; height: 100vh; background: linear-gradient(to bottom right, #c8e6c9, #f0f4c3); display: flex; align-items: center; justify-content: center; transition: background 0.5s ease; }
  .circle { width: 150px; height: 150px; background: #42a5f5; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px; text-align: center; cursor: pointer; animation: pulse 2s infinite; box-shadow: 0 0 20px rgba(66, 165, 245, 0.6); }
  @keyframes pulse { 0% { transform: scale(1); box-shadow: 0 0 20px rgba(66, 165, 245, 0.6); } 50% { transform: scale(1.1); box-shadow: 0 0 30px rgba(66, 165, 245, 0.8); } 100% { transform: scale(1); box-shadow: 0 0 20px rgba(66, 165, 245, 0.6); } }
  .language { position: absolute; top: 20px; right: 20px; padding: 8px; border-radius: 8px; border: none; }
</style>
</head>
<body>
<select id="languageSelect" class="language">
  <option value="en">English</option>
  <option value="es">Spanish</option>
  <option value="hi">Hindi</option>
  <option value="fr">French</option>
  <option value="de">German</option>
</select>
<div class="circle" id="circle" onclick="startListening()">ðŸŽ¤ Tap & Speak</div>
<script>
const backendURL = "https://ai-therapist-backendfinal.onrender.com/analyze_emotion";
let recognition;
if ('webkitSpeechRecognition' in window) {
  recognition = new webkitSpeechRecognition();
  recognition.lang = 'en-US';
  recognition.interimResults = false;
  recognition.maxAlternatives = 1;
  recognition.onresult = function(event) {
    const text = event.results[0][0].transcript;
    sendText(text);
  };
  recognition.onerror = function() { alert("Voice recognition error."); };
} else {
  alert("Voice recognition not supported in this browser.");
}
function startListening() {
  document.getElementById("circle").textContent = "Listening...";
  recognition.start();
}
function changeBackground(emotion) {
  const body = document.body;
  if (emotion.includes('happy') || emotion.includes('joy')) body.style.background = '#fff9c4';
  else if (emotion.includes('sad')) body.style.background = '#e1f5fe';
  else if (emotion.includes('angry')) body.style.background = '#ffccbc';
  else body.style.background = '#f0f4c3';
}
async function sendText(text) {
  const selectedLang = document.getElementById("languageSelect").value;
  document.getElementById("circle").textContent = "Talking...";
  try {
    const response = await fetch(backendURL, {
      method: "POST",
      headers: { "Content-Type": "application/x-www-form-urlencoded" },
      body: new URLSearchParams({ text }),
    });
    const data = await response.json();
    const reply = data.emotion || "I'm here for you.";
    document.getElementById("circle").textContent = reply;
    changeBackground(reply);
    setTimeout(() => {
      document.getElementById("circle").textContent = "ðŸŽ¤ Tap & Speak";
    }, 4000);
  } catch (error) {
    document.getElementById("circle").textContent = "Error. Tap again.";
    setTimeout(() => {
      document.getElementById("circle").textContent = "ðŸŽ¤ Tap & Speak";
    }, 3000);
  }
}
</script>
</body>
</html>
```
